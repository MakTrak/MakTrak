<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="UTF-8" />
    <title>Title</title>
</head>
<body>

    <!--<div th:fragment="nav">-->
    <nav th:fragment="nav" class="white" role="navigation">

        <div class="nav-wrapper container">
            <a id="logo-container" href="/" class="brand-logo">  <img class="logo" src="/img/nav.svg"/></a>
            <ul class="right hide-on-med-and-down">
                <!--<li><a href="/login" class="modal-trigger modal-close">Login</a></li>-->
                <li sec:authorize="!isAuthenticated()">
                    <a href="/login">Login</a>
                </li>

                <li sec:authorize="isAnonymous()">
                    <a th:href="@{/sign-up}">Register</a>
                </li>
                <!--<li><a href="/sign-up" class="#">Register</a></li>-->
                <li sec:authorize="isAuthenticated()">
                    <form th:action="@{/logout}" th:method="post">
                        <button class="btn-link btn">Logout</button>
                    </form>
                </li>
                <li sec:authorize="isAuthenticated()" th:text="${#authentication.principal.username}">

                </li>
            </ul>


            <ul id="nav-mobile" class="side-nav">
                <li><a href="/login">Login</a></li>
                <li><a href="@{/sign-up}">Register</a></li>
                <li>
                    <!--<form th:action="@{/logout}" th:method="post">-->
                        <!--&lt;!&ndash;<button class="btn-link btn" style="margin-top: 8px">Logout</button>&ndash;&gt;-->
                        <div sec:authorize="isAuthenticated()">
                            <button th:href="@{/logout}" class="btn-link btn">Log out</button>
                        </div>
                    <!--</form>-->
                </li>
            </ul>
            <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
        </div>
        <div sec:authorize="isAuthenticated()">
            <a th:href="@{/logout}">Log out</a>
        </div>
        <!--<div sec:authorize="isAnonymous()">-->
            <!--<a th:href="@{/login}">Log in</a>-->
            <!--<a th:href="@{/sign-up}">Register</a>-->
        <!--</div>-->
    </nav>


</body>
</html>